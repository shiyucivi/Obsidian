大多数矢量图层格式为pbf（Protocol Buffer Binary Format），即一种二进制序列化的矢量数据编码。通常的大小 256x256 或 512x512（像素） 。
### 1 MVT格式
绝大多数pbf中使用MVT格式的数据。MVT可以理解为一些地理要素和图层要素的集合。MVT有这些核心特点：
1. 使用**局部像素坐标系**，原点在左上角
2. 使用图层（Layer）结构，一个 `.pbf` 文件可包含多个逻辑图层（如 `roads`, `water`, `buildings`）
3. 使用几何数据，支持Point, LineString, Polygon等几何数据
4. 每个要素使用键值对描述，如 `{ name: "Main St", highway: "primary" }`
MVT格式比Geojson有高得多的编码效率。更适合作为地图瓦片。
### 1.1 Tile
pbf就是一个Tile。Tile是MVT数据结构中最顶层的类型：
```Protobuf
message VectorTile {
  message Layer {
  }
}
```
### 1.2 Layer
每个Layer代表一类地理要素集合：
```Protobuf
message Layer {
  required string name = "poi"; //图层名称
  required uint32 version = 15 [default = 1]; //MVT版本
  required uint32 extent = 4096 [default = 4096]; //最大坐标范围

  repeated uint32 features = 2;
  repeated string keys = 3;
  repeated Value values = 4;

  enum GeomType {
    UNKNOWN = 0;
    POINT = 1;
    LINESTRING = 2;
    POLYGON = 3;
  }
  optional GeomType type = 6;
}
```
