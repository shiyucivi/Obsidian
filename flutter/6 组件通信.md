# 1 父传子
父传子步骤：
1 子组件定义接收属性，使用final关键字，子组件不能修改父组件的传值
2 子组件构造函数参数定义接收参数
```dart
//child.dart
class ChildWidget extends StatelessWidget {
  final String title;
  Child({super.key, this.message});
  @override
  Widget build(BuildContext context) {
    return AppBar(
      title: Text("$title")
    )
  }
}
```
3 父组件传递给子组件
```dart
//father.dart
import 'package:my_app/components/child.dart'
class Father extends StatelessWidget {
  @override
  Widget build(BuildContext content) {
    return Container(
      child: ChildWidget(title: "你是一个子组件")
    )
  }
}
```
## 1.1 有状态组件的父子传值
有状态组件需要在StatefulWidget中定义接收属性，在State通过widget属性来获取属性
```dart
//child.dart
class Child extends StatefulWidget {
  final String message;
  Child({super.key, required this.message})
  @override
  State<_ChildState> => _ChildState()
}
class _ChildState extends State {
  @override
  Widget build(BuildContext content) {
    return Container(
      child: Text("这是一个子组件${widget.message}")
    )
  }
}
```
# 2 子传父
在子组件上定义一个函数属性。然后通过widget调用这个函数并传参
```dart
class Child extends StatefulWidget {
  final String message;
  final Function(String message) sendMessage;
  Child({super.key, required this.message})
  @override
  State<_ChildState> createState() => _ChildState()
}
class _ChildState extends State {
  @override
  Widget build(BuildContext content) {
    return Container(
      child: Button(
        text: Text("子组件按钮"),
        onTap: () => {
          widget.sendMessage("子组件发送的数据")
        }
      )
    )
  }
}
```
```dart
class Father extends StateFulWidget {
  Father({super.key})
  @override
  State<_FatherState> createState => _FatherState()
}
class _FatherState extends State {
  void getMessage(String message) {
    print(message)
  }
  @override 
  Widget build(BuildContext context) {
    return Conainer(
      child: Child(
        sendMessage: (String message) {
          this.getMessage(message);
        }
      )
    )
  }
}
```
# 3上传下

# 4 全局状态管理