### 1 test attribute
最简单的测试是使用`#[test]`注解创建测试函数。运行`cargo test`会运行所有带有`#[test]`的函数并报告结果。
测试函数最好放在lib crate的一个单独的模块（mod）中，并使用`#[cfg(test)]`声明这个模块为测试模块。
```rust
//lib.rs
pub fn add(left: u64, righ: u64) -> u64 {
	left + right
}
#[cfg(test)]
pub mod tests {
	#[test]
	fn it_works() {
		let result = add(2, 2);
		assert_eq!(result, 4);
	}
}
```
### 2 测试常用宏
assert宏接收一个布尔类型表达式作为参数。根据返回true、false输出测试结果。
assert_eq宏接用于判断两个值是否相同。这个宏不仅可以用于基本数据类型。也可以用于结构体、元组、vec等复杂类型。但是需要确保这些类型实现了`PartialEq`和`Debug`（需要打印） 两个trait。
```rust
#[test]
fn test_vec() {
    let v1 = vec![1, 2, 3];
    let v2 = vec![1, 2, 3];
    assert_eq!(v1, v2); // ✅ OK（Vec<T> 要求 T: PartialEq
}
```
assert_ne是assert_eq的相反操作。